image: "khoitd1997/docker-hatter:latest"

stages:
  - build
  - test
  - deploy

build_hatter:
  stage: build
  script:
    - sh src/cli/build.sh
  artifacts:
    paths:
      - src/cli/build/bin/tomlparser

deploy_hatter:
  stage: deploy
  dependencies:
    - build_hatter
  script:
    - npx semantic-release