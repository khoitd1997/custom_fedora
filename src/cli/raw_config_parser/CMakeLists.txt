add_subdirectory(common)

add_subdirectory(repo_handler)
add_subdirectory(package_handler)
add_subdirectory(misc_handler)
add_subdirectory(image_info_handler)
add_subdirectory(build_process_handler)
add_subdirectory(distro_info_handler)

file(GLOB CppSources *.cpp)
add_library(raw_config_parser ${CppSources})
target_link_libraries(raw_config_parser
                      PUBLIC hatter_config_type
                      PRIVATE utils
                              toml_utils
                              build_variable
                              raw_config_parser_common_error
                              raw_config_parser_common_sanitize
                              raw_config_parser_repo
                              raw_config_parser_misc
                              raw_config_parser_package
                              raw_config_parser_build_process
                              raw_config_parser_image_info
                              raw_config_parser_distro_info
                              logger)

target_include_directories(raw_config_parser
                           PUBLIC ${CMAKE_CURRENT_SOURCE_DIR}/include
                           PRIVATE ${CMAKE_CURRENT_SOURCE_DIR})
