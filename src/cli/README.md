Must have init run and then install can run

in var/lib/mock is the chroot, clean will remove it

/var/lib/name, name is determined by root var, different chroot won't share same dnf cache

Mock refreshes dnf.conf every invocation

Maybe /libexec for all other files and just the main one in /usr/bin

Support classic kickstart file but with additional settings through the TOML file like caching

## Building from Source

### Dependency

The project uses C++17 features so to compile it, the newer g++ are needed. The project uses gtest for unit testing as well as cppcheck and cpplint for extra linting, the default cmake won't turn these options on

For the list of dependency please check the [Dockerfile](./Dockerfile)

### Build

```shell
# assume in src/cli
mkdir -p build
cd build

# configure in cmake
cmake .. # bare minimum build OR
cmake -G Ninja -DRUN_TEST=ON -DUSE_CPPLINT=ON -DUSE_CPPCHECK=ON .. # build with check and test

cmake --build .

# run test it was enabled in the configure step
cd bin
GTEST_BREAK_ON_FAILURE=1 GTEST_COLOR=1 ctest --verbose --gtest_print_time=0
```

## Mock building directory structure

For example building an OS called ```fedora_kd```, the main config file will be called ```fedora_kd.toml```

- /
  - build_share/
    - assets/
      - valid_keyboard.txt
    - fedora-kickstarts/
        - git clone of fedora-kickstarts repo
    - package_cache/: cache of all packages
    - scripts/: shared scripts
        - build_mock.sh
        - exit_code.sh
        - misc_utils.sh
  - builddir/
    - fedora_kd/ <- env_build_dir, exe working dir
      - build/
        - user_supplied/
            - fedora_kd.toml
            - all user input files
        - repos/
            - dnf.conf: conf file for dnf
            - all repo files for this os
        - package_list.txt: all possible packages
        - group_list.txt: all possible groups
        - env_var.sh: env variable file
        - prev_env_var.sh: previous env variable file
        - config_builder_env_var.sh: env variable generated by the config builder
        - prev_config.toml: last successful toml file
        - base.iso
      - out/
        - logs/
          - parser.log
          - kickstart.log
        - first_login.sh
        - post_build.sh
        - post_build_no_root.sh
        - fedora_kd.ks
        - fedora_kd.iso